(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{1007:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return t(2632)}])},2632:function(e,a,t){"use strict";t.r(a),t.d(a,{Head:function(){return b},default:function(){return Z}});var n=t(5893),r=t(7294),s=t(7183),i=t(3009),c=t(1552),l=t(1230),o=t(5746),p=t(9965),d=t(1577),u=t(1143),m=t(9014),h=t(8863);let _=e=>"".concat("http://localhost:5000/").concat(e),f=async(e,a)=>{try{let t=await fetch(_(e),a),n=await t.json();return Promise.resolve({response:n})}catch(e){return Promise.reject({err:e})}};var x={get:async e=>f(e),post:async(e,a)=>f(e,{method:"post",body:JSON.stringify(a)})},g=t(1521),w=t.n(g);let j=[{title:"Name",dataIndex:"name",key:"id"},{title:"Package Name",dataIndex:"package_name",key:"id"},{title:"Created Date",dataIndex:"created_at",key:"created_at",render:e=>{let a=new Date(e),t=new Intl.DateTimeFormat("en-US",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"});return t.format(a)}}],{Content:y,Footer:N}=s.Z,k=()=>{let[e,a]=i.Z.useNotification(),[t,_]=(0,r.useState)([]),[f,g]=(0,r.useState)(!1),[k,Z]=(0,r.useState)(!1),[b]=c.Z.useForm(),E=(0,r.useCallback)(async()=>{let{response:a,err:t}=await x.get("_admin/apps");if(t){e.error({title:"Error",description:"Error while getting apps data, please contact the administrator. Message: ".concat(t.message)});return}_(a.data)},[e,_]),C=(e,a)=>({onClick:()=>console.log(e.id)}),P=()=>{b.resetFields(),g(!0)},A=async()=>{try{await b.validateFields()}catch(e){}Z(!0);let a=b.getFieldsValue(),{err:t}=await x.post("app",a);if(t){e.error({title:"Error",description:"Error while creating the app, please contact the administrator. Message: ".concat(t.message)}),Z(!1);return}e.success({title:"Success",description:"App created successfully"}),E(),Z(!1),g(!1)};return(0,r.useEffect)(()=>{E()},[E]),(0,n.jsxs)(n.Fragment,{children:[a,(0,n.jsxs)(s.Z,{className:w().main,children:[(0,n.jsxs)(y,{className:w().content,children:[(0,n.jsxs)(l.Z,{justify:"space-between",children:[(0,n.jsx)(o.Z,{children:(0,n.jsx)(p.Z.Title,{level:3,children:"Apps List"})}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(d.ZP,{type:"primary",onClick:P,children:"Add App"})})]}),(0,n.jsx)(u.Z,{className:w().appsTable,onRow:C,columns:j,dataSource:t,rowKey:"id"})]}),(0,n.jsx)(N,{className:w().footer,children:"Dynapgen @ 2023. Made with ❤️"})]}),(0,n.jsx)(m.Z,{title:"Add a New App",open:f,onOk:A,onCancel:()=>g(!1),confirmLoading:k,closable:!1,children:(0,n.jsxs)(c.Z,{form:b,labelCol:{span:8},wrapperCol:{span:16},children:[(0,n.jsx)(c.Z.Item,{label:"App Name",name:"app_name",rules:[{required:!0,message:"App Name is Required"}],children:(0,n.jsx)(h.Z,{placeholder:"Example"})}),(0,n.jsx)(c.Z.Item,{label:"Package Name",name:"package_name",rules:[{required:!0,message:"Package Name is Required"}],children:(0,n.jsx)(h.Z,{placeholder:"com.example.example"})})]})})]})};var Z=k;let b=()=>(0,n.jsx)("title",{children:"Home Page"})},1521:function(e){e.exports={main:"app_main__0qdwi",content:"app_content__W_Xu6",appsTable:"app_appsTable__n082_",footer:"app_footer__zbEaX"}}},function(e){e.O(0,[544,774,888,179],function(){return e(e.s=1007)}),_N_E=e.O()}]);